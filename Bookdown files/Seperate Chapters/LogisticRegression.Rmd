## Logistic Regression

An example:

The Titanic-dataset contains original data of all passengers of the Titanic. It contains their name, their passenger class (1st - 3rd), their age, their sex, and whether or not they survived the sinking of the ship. The logistic regression model is computed to allow predictions on a passengers survival status, based on their age, sex, and passenger class.


### Results Overview

```{r echo=F}
ResultsLogReg <- matrix(c( 3.7597, 3.760, 3.7596, 3.760, 3.7597 ,
                           -0.0392, -0.039, -0.0392, -0.0392,  -0.0392,
                           -1.2920, -1.292, -1.2920, -1.292, -1.2920,
                           -2.5214, -2.521, -2.5214, -2.521, -2.5214,
                           -2.6314, -2.631, -2.6313, -2.631, -2.6314), ncol=5, byrow = T)
colnames(ResultsLogReg) <- c('JASP', 'SPSS', 'SAS', 'Minitab', 'R')
rownames(ResultsLogReg) <- c('Constant', 'Age', '2nd Class', '3rd Class', 'Sex(Male)')
knitr::kable(head(ResultsLogReg, 20), caption = "Result Overview Coefficents Logistic Regression", booktabs = T)
```

```{r echo=F}
ResultsLogRegodds <- matrix(c( 42.9339, 42.934, NA, NA, 42.9339,
                                0.9616, 0.962, 0.962, 0.9616, 0.9616,
                                0.2747, 0.275, 0.275, 0.2747, 0.2747,
                                0.0803, 0.080, 0.080, 0.0803, 0.0803,
                                 0.0720, 0.072, 0.072, 0.0720, 0.0720), ncol=5, byrow = T)
colnames(ResultsLogRegodds) <- c('JASP', 'SPSS', 'SAS', 'Minitab', 'R')
rownames(ResultsLogRegodds) <- c('Constant', 'Age', '2nd Class', '3rd Class', 'Sex(Male)')
knitr::kable(head(ResultsLogRegodds, 20), caption = "Result Overview Odds-ratio Logistic Regression", booktabs = T)
```

**Note**: The reference case to which the odds ratios are refering is a female passenger in the first class with age 0.

### JASP

```{r LogRegJASP, echo=FALSE, fig.cap="\\label{fig:LogRegJASP}JASP Output for Logistic Regression"}
knitr::include_graphics('Screenshots/Logistic Regression/LogRegJASP.PNG')
```

### SPSS

```{r eval=F}
DATASET ACTIVATE DataSet1.
LOGISTIC REGRESSION VARIABLES Survived
  /METHOD=ENTER PClass Age Sex 
  /CONTRAST (PClass)=Indicator(1)
  /CONTRAST (Sex)=Indicator(1)
  /CRITERIA=PIN(.05) POUT(.10) ITERATE(20) CUT(.5).

```

```{r LogRegSPSS, echo=FALSE, fig.cap="\\label{fig:LogRegSPSS}SPSS Output for Logistic Regression"}
knitr::include_graphics('Screenshots/Logistic Regression/LogRegSPSS.PNG')
```

### SAS

```{r eval=F}
proc logistic data=work.LogReg DESC;
  class PClass Sex / param=reference ref=first;
  model Survived = Age Sex PClass; 
run;
```

```{r LogRegSAS, echo=FALSE, fig.cap="\\label{fig:LogRegSAS}SAS Output for Logistic Regression"}
knitr::include_graphics('Screenshots/Logistic Regression/LogRegSAS.PNG')
```

### Minitab

```{r LogRegMinitab, echo=FALSE, fig.cap="\\label{fig:LogRegMinitab}Minitab Output for Logistic Regression"}
knitr::include_graphics('Screenshots/Logistic Regression/LogRegMinitab.PNG')
```

### R

```{r echo=F}
LogReg.data2 <- read.csv("Datasets/LogRegCoded.csv", sep=";")
```

```{r}
LogRegExample <- glm(Survived ~Age + factor(PClass) + factor(Sex), data=LogReg.data2, family=binomial(link="logit"))
summary(LogRegExample)
exp(coef(LogRegExample))
```
### Remarks

All differences in results between the software are due to rounding.

